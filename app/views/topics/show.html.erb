<%# Display the topic and give the option to edit and delete it %>
<div class="card card-top-spacer">
  <div class="card-content">
    <span class="card-title bold"><strong>Topic:</strong> <%= @topic.title %></span>
    <div class="show-whitespace">
      <p><%= @topic.description %></p>
    </div>
    <% if current_user == @topic.user %>
      <div class="text-center">
      <%= link_to "Edit", edit_topic_path(@topic), class: 'btn waves-effect waves-light light-blue accent-4' %>
      <%= link_to "Delete", topic_path(@topic), method: :delete, data: { confirm: "Are you sure?" }, class: 'btn red waves-effect waves-light accent-2' %>
      </div>
    <% end %>
  </div>
</div>

<%# Check if there are any comments for this post %>
<% if @topic.comments.empty? %>
  <%# If the comments array is empty, make user aware with a card %>
  <div class="card">
    <div class="card-content">
      <span class="card-title center-align bold">No comments yet...</span>
    </div>
  </div>
<% else %>
  <%# If there are comments, display all the comments %>
  <div class="card">
    <div class="card-content">
      <span class="card-title center-align bold">Comments</span>
    </div>
    <%# Renders each comment one by one using the partial expansion feature %>
    <%# It's like rendering comments/comment.html.erb with each comment as the param %>
    <%= render @topic.comments %>
  </div>
<% end %>

<%# New comment form rendered in a card %>
<div class="card-panel">
  <div class="card-content">
    <span class="card-title">Add comment</span>
  </div>
  <%= render "comments/form" %>
</div>

<%# Adds a back button at the bottom that takes user back to root page %>
<div class="center-align">
  <%= link_to "Back", root_path, class: 'btn waves-effect waves-light light-blue accent-4' %>
</div>
