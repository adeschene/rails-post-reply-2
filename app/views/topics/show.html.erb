<%# Display the topic and give the option to edit and delete it %>
<div class="card w-100 mt-5 mb-5 mx-auto text-dark bg-light">
  <div class="card-header fs-5 fw-bold py-3">
    <%= @topic.title %>
  </div>
  <div class="card-body mb-1">
    <p class="card-text"><%= simple_format(@topic.description) %></p>
    <% if current_user == @topic.user %>
      <div class="text-center">
      <%= link_to "Edit", edit_topic_path(@topic), class: 'btn btn-secondary px-4 mx-1' %>
      <%= link_to "Delete", topic_path(@topic), method: :delete, data: { confirm: "Are you sure?" }, class: 'btn btn-danger mx-1' %>
      </div>
    <% end %>
  </div>
</div>

<%# Check if there are any comments for this post %>
<% if @topic.comments.empty? %>
  <%# If the comments array is empty, make user aware with a card %>
  <div class="card w-75 mx-auto">
    <div class="card-header text-center">
      <p class="card-text">No comments yet...</p>
    </div>
  </div>
<% else %>
  <%# If there are comments, display all the comments %>
  <div class="card w-75 mx-auto text-dark bg-light">
    <div class="card-header text-center">
      <p class="card-text">Comments:</p>
    </div>
  </div>
  <%# Renders each comment one by one using the partial expansion feature %>
  <%# It's like rendering comments/comment.html.erb with each comment as the param %>
  <%= render @topic.comments %>
<% end %>

<%# New comment form rendered in a card %>
<div class="card w-100 mx-auto mt-5 mb-3 text-dark bg-light">
  <div class="card-header">
    <p class="card-text text-center">Add comment</p>
  </div>
  <div class="card-body">
    <%= render "comments/form" %>
  </div>
</div>

<%# Adds a back button at the bottom that takes user back to root page %>
<div class="container mb-5 text-center">
  <%= link_to "Back", root_path, class: 'btn btn-dark px-5' %>
</div>
